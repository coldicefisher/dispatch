{"version":3,"file":"ngx-uploadcare-widget.js","sources":["../../../projects/ngx-uploadcare-widget/src/_versions.ts","../../../projects/ngx-uploadcare-widget/src/version.ts","../../../projects/ngx-uploadcare-widget/src/lib/ucWidget/ucWidget.component.ts","../../../projects/ngx-uploadcare-widget/src/lib/ucWidgetCustom/ucWidgetCustom.component.ts","../../../projects/ngx-uploadcare-widget/src/lib/ucWidget/ucWidget.module.ts","../../../projects/ngx-uploadcare-widget/src/ngx-uploadcare-widget.ts"],"sourcesContent":["export interface TsAppVersion {\n    version: string;\n    name: string;\n    description?: string;\n    versionLong?: string;\n    versionDate: string;\n    gitCommitHash?: string;\n    gitCommitDate?: string;\n    gitTag?: string;\n};\nexport const versions: TsAppVersion = {\n    version: '3.0.2',\n    name: 'ngx-uploadcare-widget',\n    versionDate: '2022-02-22T10:00:56.543Z',\n    description: 'Angular 2+ wrapper for Uploadcare Widget',\n};\nexport default versions;\n","import versions from './_versions';\n\nexport const APP_VERSION = versions.version;\n","/* eslint-disable no-underscore-dangle */\n/* eslint-disable @angular-eslint/no-input-rename */\n/* eslint-disable @angular-eslint/no-output-rename */\n/* eslint-disable @angular-eslint/no-output-on-prefix */\nimport { Component,\n    Input,\n    Output,\n    AfterViewInit,\n    AfterViewChecked,\n    ElementRef,\n    EventEmitter,\n    Renderer2,\n    VERSION, PLATFORM_ID, Inject } from '@angular/core';\nimport uploadcare from 'uploadcare-widget';\nimport { isPlatformBrowser} from '@angular/common';\n\nimport { APP_VERSION } from '../../version';\n\n@Component({\n    selector: 'ngx-uploadcare-widget',\n    template: '',\n})\nexport class UcWidgetComponent implements AfterViewInit, AfterViewChecked {\n  @Output('on-upload-complete') onUploadComplete = new EventEmitter<any>();\n  @Output('on-change') onChange = new EventEmitter<any>();\n  @Output('on-progress') onProgress = new EventEmitter<any>();\n\n  private element: ElementRef;\n  private inputElement: Node;\n  private renderer: Renderer2;\n  private widget: any;\n  private dialog: any;\n  private _publicKey = 'demopublickey';\n  private _multiple: boolean;\n  private _multipleMax: number;\n  private _multipleMin: number;\n  private _imagesOnly: boolean;\n  private _previewStep: boolean;\n  private _crop: any;\n  private _imageShrink: string;\n  private _clearable: boolean;\n  private _tabs: string;\n  private _inputAcceptTypes: string;\n  private _preferredTypes: string;\n  private _systemDialog: boolean;\n  private _secureSignature: string;\n  private _secureExpire: string;\n  private _value = null;\n  private _cdnBase = null;\n  private _doNotStore: boolean;\n  private _reinitRequired = false;\n  private _isClearValue = false;\n  private _validators = [];\n  private isInBrowser: boolean;\n\n  constructor(renderer: Renderer2, element: ElementRef, @Inject(PLATFORM_ID) platformId: string) {\n      this.element = element;\n      this.renderer = renderer;\n      this.isInBrowser = isPlatformBrowser(platformId);\n      if (this.isInBrowser) {\n          uploadcare.start({integration: `Angular/${VERSION.full}; Ngx-Uploadcare-Widget/${APP_VERSION}`});\n      }\n  }\n\n  @Input('public-key')\n  set publicKey(publicKey: string) {\n      this._publicKey = publicKey;\n      this.setReinitFlag(true);\n  }\n  get publicKey() { return this._publicKey; }\n\n  @Input('multiple')\n  set multiple(multiple: boolean) {\n      this._multiple = multiple;\n      this.setReinitFlag(true);\n  }\n  get multiple() { return this._multiple; }\n\n  @Input('multiple-max')\n  set multipleMax(multipleMax: number) {\n      this._multipleMax = multipleMax;\n      this.setReinitFlag(false);\n  }\n  get multipleMax() { return this._multipleMax; }\n\n  @Input('multiple-min')\n  set multipleMin(multipleMin: number) {\n      this._multipleMin = multipleMin;\n      this.setReinitFlag(false);\n  }\n  get multipleMin() { return this._multipleMin; }\n\n  @Input('images-only')\n  set imagesOnly(imagesOnly: boolean) {\n      this._imagesOnly = imagesOnly;\n      this.setReinitFlag(false);\n  }\n  get imagesOnly() { return this._imagesOnly; }\n\n  @Input('preview-step')\n  set previewStep(previewStep: boolean) {\n      this._previewStep = previewStep;\n      this.setReinitFlag(false);\n  }\n  get previewStep() { return this._previewStep; }\n\n  @Input('crop')\n  set crop(crop: any) {\n      this._crop = crop;\n      this.setReinitFlag(false);\n  }\n  get crop() { return this._crop; }\n\n  @Input('image-shrink')\n  set imageShrink(imageShrink: string) {\n      this._imageShrink = imageShrink;\n      this.setReinitFlag(false);\n  }\n  get imageShrink() { return this._imageShrink; }\n\n  @Input('clearable')\n  set clearable(clearable: boolean) {\n      this._clearable = clearable;\n      this.setReinitFlag(false);\n  }\n  get clearable() { return this._clearable; }\n\n  @Input('tabs')\n  set tabs(tabs: string) {\n      this._tabs = tabs;\n      this.setReinitFlag(false);\n  }\n  get tabs() { return this._tabs; }\n\n  @Input('input-accept-types')\n  set inputAcceptTypes(inputAcceptTypes: string) {\n      this._inputAcceptTypes = inputAcceptTypes;\n      this.setReinitFlag(false);\n  }\n  get inputAcceptTypes() { return this._inputAcceptTypes; }\n\n  @Input('preferred-types')\n  set preferredTypes(preferredTypes: string) {\n      this._preferredTypes = preferredTypes;\n      this.setReinitFlag(false);\n  }\n  get preferredTypes() { return this._preferredTypes; }\n\n  @Input('system-dialog')\n  set systemDialog(systemDialog: boolean) {\n      this._systemDialog = systemDialog;\n      this.setReinitFlag(false);\n  }\n  get systemDialog() { return this._systemDialog; }\n\n  @Input('secure-signature')\n  set secureSignature(secureSignature: string) {\n      this._secureSignature = secureSignature;\n      this.setReinitFlag(true);\n  }\n  get secureSignature() { return this._secureSignature; }\n\n  @Input('secure-expire')\n  set secureExpire(secureExpire: string) {\n      this._secureExpire = secureExpire;\n      this.setReinitFlag(false);\n  }\n  get secureExpire() { return this._secureExpire; }\n\n  @Input('value')\n  set value(value: string) {\n      this._value = value;\n      if (this.widget) {\n          this.setReinitFlag(false);\n          this.widget.value(value);\n      }\n  }\n  get value() { return this._value; }\n\n  @Input('validators')\n  set validators(validatorsArr: any[]) {\n      this._validators = validatorsArr;\n      this.setReinitFlag(false);\n  }\n  get validators() { return this._validators; }\n\n  @Input('cdn-base')\n  set cdnBase(cdnBase: string) {\n      this._cdnBase = cdnBase;\n      this.setReinitFlag(true);\n  }\n  get cdnBase() { return this._cdnBase; }\n\n  @Input('do-not-store')\n  set doNotStore(doNotStore: boolean) {\n      this._doNotStore = doNotStore;\n      this.setReinitFlag(false);\n  }\n  get doNotStore() { return this._doNotStore; }\n\n  ngAfterViewInit() {\n      if (this.isInBrowser) {\n          this.widget = this.init();\n      }\n  }\n\n  ngAfterViewChecked() {\n      if (this._reinitRequired) {\n          this.reset(this._isClearValue);\n      }\n  }\n\n  reset(clearUploads = false) {\n      this.destroy();\n      this.widget = this.init(clearUploads);\n      this._reinitRequired = false;\n      this._isClearValue = false;\n  }\n\n  clearUploads() {\n      this._value = null;\n      if (this.widget) {\n          this.widget.value(null);\n      }\n  }\n\n  openDialog() {\n      if (this.widget) {\n          this.dialog = this.widget.openDialog();\n      }\n  }\n\n  reject() {\n      if (this.dialog) {\n          this.dialog.reject();\n          this.dialog = null;\n      }\n  }\n\n  private setReinitFlag(isClearValue: boolean) {\n      if (this.widget) {\n          this._reinitRequired = true;\n          this._isClearValue = isClearValue;\n      }\n  }\n\n  private setInputAttr(key: string, value: any) {\n      if (value) {\n          this.renderer.setAttribute(this.inputElement, key, value);\n      }\n  }\n\n  private initInputElement() {\n      this.setInputAttr('type', 'hidden');\n      this.setInputAttr('data-public-key', this._publicKey);\n      this.setInputAttr('data-multiple', this._multiple);\n      this.setInputAttr('data-multiple-max', this._multipleMax);\n      this.setInputAttr('data-multiple-min', this._multipleMin);\n      this.setInputAttr('data-images-only', this._imagesOnly);\n      this.setInputAttr('data-preview-step', this._previewStep);\n      this.setInputAttr('data-crop', this._crop);\n      this.setInputAttr('data-image-shrink', this._imageShrink);\n      this.setInputAttr('data-clearable', this._clearable);\n      this.setInputAttr('data-tabs', this._tabs);\n      this.setInputAttr('data-input-accept-types', this._inputAcceptTypes);\n      this.setInputAttr('data-preferred-types', this._preferredTypes);\n      this.setInputAttr('data-system-dialog', this._systemDialog);\n      this.setInputAttr('data-secure-signature', this._secureSignature);\n      this.setInputAttr('data-secure-expire', this._secureExpire);\n      this.setInputAttr('data-cdn-base', this._cdnBase);\n      this.setInputAttr('data-do-not-store', this._doNotStore);\n      if (this._value) {\n          this.renderer.setProperty(this.inputElement, 'value', this._value);\n      }\n  }\n\n  private init(removeUploads = false) {\n      this.inputElement = this.renderer.createElement('input');\n      this.renderer.appendChild(this.element.nativeElement, this.inputElement);\n      if (removeUploads) {\n          this.clearUploads();\n      }\n      this.initInputElement();\n      const widget = uploadcare.Widget(this.inputElement);\n      this._validators.forEach(v => {\n          if (typeof v === 'function') {\n              widget.validators.push(v);\n          } else {\n              throw new Error('Only functions allowed in validadators array');\n          }\n      });\n      widget.onUploadComplete((fileInfo) => {\n          this.onUploadComplete.emit(fileInfo);\n          this._value = fileInfo.uuid;\n      });\n      widget.onChange((selectionPromise) => {\n          this.onChange.emit(selectionPromise);\n          if (!selectionPromise) {\n              return;\n          }\n          if (typeof selectionPromise.promise === 'function') {\n              selectionPromise.promise()\n                  .progress((progress) => {\n                      this.onProgress.emit(progress);\n                  });\n          } else {\n              selectionPromise\n                  .progress((progress) => {\n                      this.onProgress.emit(progress);\n                  });\n          }\n      });\n      widget.onDialogOpen((dialogApi) => {\n          this.dialog = dialogApi;\n      });\n      return widget;\n  }\n\n  private destroy() {\n      const $ = uploadcare.jQuery;\n      $(this.widget.inputElement.nextSibling).remove();\n      $(this.widget.inputElement).clone().appendTo($(this.element.nativeElement));\n      $(this.widget.inputElement).remove();\n      this.renderer.removeChild(this.element.nativeElement, this.element.nativeElement.children[0]);\n      delete this.widget;\n  }\n}\n","/* eslint-disable @angular-eslint/no-output-rename, @angular-eslint/no-input-rename, @angular-eslint/no-output-on-prefix */\n\nimport { Component,\n    Input,\n    Output,\n    EventEmitter,\n    VERSION,\n    PLATFORM_ID,\n    Inject\n} from '@angular/core';\nimport uploadcare from 'uploadcare-widget';\nimport { isPlatformBrowser} from '@angular/common';\n\nimport { APP_VERSION } from '../../version';\n\n@Component({\n    selector: 'ngx-uploadcare-widget-custom',\n    template: '',\n})\nexport class UcWidgetCustomComponent {\n  @Output('on-upload-complete') onUploadComplete = new EventEmitter<any>();\n  @Output('on-change') onChange = new EventEmitter<any>();\n  @Output('on-progress') onProgress = new EventEmitter<any>();\n\n  @Input('public-key') publicKey = 'demopublickey';\n  @Input('multiple') multiple: boolean;\n  @Input('multiple-max') multipleMax: number;\n  @Input('multiple-min') multipleMin: number;\n  @Input('images-only') imagesOnly: boolean;\n  @Input('preview-step') previewStep: boolean;\n  @Input('crop') crop: any;\n  @Input('image-shrink') imageShrink: string;\n  @Input('clearable') clearable: boolean;\n  @Input('tabs') tabs: string;\n  @Input('input-accept-types') inputAcceptTypes: string;\n  @Input('preferred-types') preferredTypes: string;\n  @Input('system-dialog') systemDialog: boolean;\n  @Input('secure-signature') secureSignature: string;\n  @Input('secure-expire') secureExpire: string;\n  @Input('value') value: string;\n  @Input('cdn-base') cdnBase: string;\n  @Input('do-not-store') doNotStore: boolean;\n  @Input('validators') validators: any[] = [];\n  private dialog: any;\n\n  constructor(@Inject(PLATFORM_ID) platformId: string) {\n      const isInBrowser = isPlatformBrowser(platformId);\n      if (isInBrowser) {\n          uploadcare.start({integration: `Angular/${VERSION.full}; Ngx-Uploadcare-Widget/${APP_VERSION}`});\n      }\n  }\n\n  openDialog() {\n      const config = {\n          publicKey: this.publicKey ? this.publicKey : undefined,\n          multiple: this.multiple,\n          multipleMax: this.multipleMax,\n          multipleMin: this.multipleMin,\n          imagesOnly: this.imagesOnly,\n          previewStep: this.previewStep,\n          crop: this.crop ? this.crop : undefined,\n          imageShrink: this.imageShrink ? this.imageShrink : undefined,\n          clearable: this.clearable,\n          tabs: this.tabs ? this.tabs : undefined,\n          inputAcceptTypes: this.inputAcceptTypes ? this.inputAcceptTypes : undefined,\n          preferredTypes: this.preferredTypes,\n          systemDialog: this.systemDialog,\n          secureSignature: this.secureSignature,\n          secureExpire: this.secureExpire,\n          value: this.value ? this.value : undefined,\n          cdnBase: this.cdnBase ? this.cdnBase : undefined,\n          doNotStore: this.doNotStore,\n          validators: this.validators.filter(v => {\n              if (typeof v !== 'function') {\n                  throw new Error('Only functions allowed in validadators array');\n              }\n              return v;\n          }),\n      };\n      this.dialog = uploadcare.openDialog(this.value, null, config);\n      this.dialog.done((selectionPromise) => {\n          this.onChange.emit(selectionPromise);\n          if (typeof selectionPromise.promise === 'function') {\n              selectionPromise.promise()\n                  .then((groupInfo) => {\n                      this.onUploadComplete.emit(groupInfo);\n                  })\n                  .progress((progress) => {\n                      this.onProgress.emit(progress);\n                  });\n          } else {\n              selectionPromise\n                  .then((fileInfo) => {\n                      this.onUploadComplete.emit(fileInfo);\n                  })\n                  .progress((progress) => {\n                      this.onProgress.emit(progress);\n                  });\n          }\n      });\n  }\n\n  reject() {\n      if (this.dialog) {\n          this.dialog.reject();\n          this.dialog = null;\n      }\n  }\n\n}\n","import { NgModule } from '@angular/core';\n\nimport { UcWidgetComponent } from './ucWidget.component';\nimport { UcWidgetCustomComponent } from '../ucWidgetCustom/ucWidgetCustom.component';\n\n@NgModule({\n    declarations: [\n        UcWidgetCustomComponent,\n        UcWidgetComponent\n    ],\n    imports: [\n    ],\n    providers: [],\n    bootstrap: [],\n    exports: [\n        UcWidgetCustomComponent,\n        UcWidgetComponent\n    ],\n})\nexport class UcWidgetModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":"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"}